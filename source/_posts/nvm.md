---
layout: node
title: nvm
date: 2020-07-07 23:31:10
tags:
---
Как установить и управлять NodeJS с помощью NVM

NVM, также известный как Node Version Manager, это аналог RVM (Ruby Version manager) для языка Ruby. NVM позволяет устанавливать и управлять множеством версий NodeJS в рамках одной системы, а также использовать определенную версию для приложения.

В этой статье я расскажу как установить и управлять NodeJS с помощью NVM.

По умолчанию NVM устанавливается в домашнюю директорию текущего пользователя. поэтому установленные версии nodejs с помощью nvm одного пользователя будут недоступны другим пользователям. Пользователи Windows могут прочитать как установить NodeJS в Windows системах.
Шаг 1 - Установка NVM

Сначала вы должны установить NVM в систему. Разработчики NVM подготовили для этого Bash скрипт-установщик. Используйте эту,чтобы установитьNVM:

    curl https://raw.githubusercontent.com/creationix/nvm/master/install.sh | bash

После чего надо обновить системные переменные с помощью команд ниже, иначе потребуется перезапуск сеанса (или переподключение по SSH).

    source ~/.profile ## Для Debian/Ubuntu и подобных
    source ~/.bashrc ## Для CentOS/RHEL 

Шаг 2 - Список доступных версий NodeJS

Теперь, когда вы установили nvm, вы можете использовать его. Но для начала нужно установить какую-либо версию NodeJS. С помощью опции ls-remote вы можете просмотреть список доступных версий

    nvm ls-remote

В результате вы увидите длинный список доступных версий.

    ...
    ...
    v10.16.1 (LTS: Dubnium)
    v10.16.2 (LTS: Dubnium)
    v10.16.3 (Latest LTS: Dubnium)
    ...
    ...
    v12.10.0
    v12.11.0
    v12.11.1
    v12.12.0

Шаг 3 - Установка NodeJS с помощью NVM

Выберите версию из списка выше, которая вам нужна и установите ее. В этом примере я буду использовать LTS версию v10.16.3:

    nvm install v10.16.3

И дополнительно установлю актуальную версию

    nvm install v12.12.0

Повторяя команду с нужными версиями установите все необходимые вам версии NodeJS.
Шаг 4 - Установка версии по умолчанию

После того, как вы установите несколько версий, вы должны выбрать какая версия будет использоваться по умолчанию (для вариантов, когда нет четкого указания на нужную версию). С помощью команды ниже вы можете проверить список установленных версий и какая из них указана как версия по умолчанию.

    nvm list

    -> v10.16.3
    v12.8.0
    system
    default -> v12.8.0
    node -> stable (-> v12.12.0) (default)
    stable -> 12.8 (-> v12.12.0) (default)
    iojs -> N/A (default)
    unstable -> N/A (default)
    lts/* -> lts/dubnium (-> v10.16.3)
    lts/argon -> v4.9.1 (-> N/A)
    lts/boron -> v6.17.1 (-> N/A)
    lts/carbon -> v8.16.0 (-> N/A)
    lts/dubnium -> v10.16.3

Как вы можете видеть - версией по умолчанию установлена v10.16.3. Вы можете изменить ее на другую используя следующую команду(я изменю на 10.16.2).

    nvm use v10.16.2

Проверим текущую версию NodeJS

    node --version

    v10.16.2

Шаг 5 - Запуск приложения с определенной версией NodeJS

Когда у вас много приложений и вы хотите для каждого из них указать свою определенную версию, то вы можете использовать следующую команду nvm, к примеру запуск приложения app.js в версии 10.16.3

    nvm run v10.16.3 app.js

Шаг 6 - Удаление неиспользуемых версий NodeJS

Просмотрите список установленных версий командой

    nvm list

И удалите ненужные вам версии с помощью команды ниже. К примеру я удалю версию 10.16.3

    nvm uninstall v10.16.3
