var searchFunc=function(t,e,r){"use strict";var l="<button type='button' class='local-search-close' id='local-search-close'></button>";$.ajax({url:t,dataType:"xml",success:function(t){var n=$("entry",t).map((function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}})).get(),i=document.getElementById(e),a=document.getElementById(r);i.addEventListener("input",(function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s]+/);if(a.innerHTML="",!(this.value.trim().length<=0)){if(n.forEach((function(r){var l=!0;r.title&&""!==r.title.trim()||(r.title="Untitled");var n=r.title.trim().toLowerCase(),i=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),a=r.url,c=-1,s=-1,o=-1;if(""!==i?e.forEach((function(t,e){c=n.indexOf(t),s=i.indexOf(t),c<0&&s<0?l=!1:(s<0&&(s=0),0==e&&(o=s))})):l=!1,l){t+="<li><a href='"+a+"' class='search-result-title'>"+n+"</a>";var u=r.content.trim().replace(/<[^>]+>/g,"");if(o>=0){var h=o-20,f=o+80;h<0&&(h=0),0==h&&(f=100),f>u.length&&(f=u.length);var d=u.substr(h,f);e.forEach((function(t){var e=new RegExp(t,"gi");d=d.replace(e,'<em class="search-keyword">'+t+"</em>")})),t+='<p class="search-result">'+d+"...</p>"}t+="</li>"}})),-1===(t+="</ul>").indexOf("<li>"))return a.innerHTML=l+'<div class="search-result-empty"><p><i class="fe fe-tired"></i> 没有找到内容，更换下搜索词试试吧~<p></div>';a.innerHTML=l+t}}))}}),$(document).on("click","#local-search-close",(function(){$("#local-search-input").val(""),$("#local-search-result").html("")}))};