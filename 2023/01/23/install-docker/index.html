<!DOCTYPE html><html lang="ru"><head><script>!function(e,t,c,n,r,a){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=+new Date;for(var m=0;m<document.scripts.length;m++)if(document.scripts[m].src===n)return;r=t.createElement(c),a=t.getElementsByTagName(c)[0],r.async=1,r.src=n,a.parentNode.insertBefore(r,a)}(window,document,"script","https://mc.yandex.ru/metrika/tag.js"),ym(88722337,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})</script><noscript><div><img src="https://mc.yandex.ru/watch/88722337" style="position:absolute;left:-9999px" alt=""></div></noscript><meta charset="utf-8"><meta name="description" content="Сохраненые заметки"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>install docker | Записки на память</title><meta name="generator" content="hexo-theme-ayer"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/dist/main.css"><link rel="stylesheet" href="/css/fonts/remixicon.css"><link rel="stylesheet" href="/css/custom.css"><script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script><script src="https://cdn.staticfile.org/mermaid/8.14.0/mermaid.min.js"></script><style>.swal2-styled.swal2-confirm{font-size:1.6rem}</style><link rel="alternate" href="/atom.xml" title="Записки на память" type="application/atom+xml"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet"></head></html><body><div id="app"><main class="content on"><section class="outer"><article id="post-install-docker" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal><div class="article-inner"><header class="article-header"><h1 class="article-title sea-center" style="border-left:0" itemprop="name">install docker</h1></header><div class="article-meta"><a href="/2023/01/23/install-docker/" class="article-date"><time datetime="2023-01-23T18:12:49.000Z" itemprop="datePublished">2023-01-23</time></a><div class="article-category"><a class="article-category-link" href="/categories/docker/">docker</a> / <a class="article-category-link" href="/categories/docker/debian/">debian</a></div><div class="word_count"><span class="post-time"><span class="post-meta-item-icon"><i class="ri-quill-pen-line"></i> <span class="post-meta-item-text">Количество слов:</span> <span class="post-count">715</span> </span></span><span class="post-time">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="ri-book-open-line"></i> <span class="post-meta-item-text">Время чтения≈</span> <span class="post-count">4 минут</span></span></span></div></div><div class="tocbot"></div><div class="article-entry" itemprop="articleBody"><h4 id="Установка-Docker-в-Debian-11"><a href="#Установка-Docker-в-Debian-11" class="headerlink" title="Установка Docker в Debian 11"></a>Установка Docker в Debian 11</h4><p>Docker - одна из самых популярных программ для контейнеризации. В терминологии Docker, контейнеры – это стандартная единица программного обеспечения, которая упаковывает код и все его зависимости, для того чтобы приложение можно было быстро и надежно запустить на разных операционных системах и в разных вычислительных средах.</p><p>С технической точки зрения контейнер - это запущенный процесс (наподобие процессов в операционных системах) который изолирован от других процессов и имеет доступ к ресурсам компьютера. В данной статье будет рассмотрена установка Docker в Debian 11, а также запуск первого приложения.</p><p><strong>Содержание статьи:</strong></p><ol><li><a href="#add">Добавление репозитория Docker</a></li><li><a href="#install">Установка пакетов Docker</a></li><li><a href="#get">Запуск и автозагрузка Docker</a></li><li><a href="#useradd">Добавление пользователя в группу Docker</a></li><li><a href="#run">Запуск контейнера с hello-world</a></li><li><a href="#end">Выводы</a></li></ol><p>Установить Docker в Debian 11 можно двумя способами - при помощи стандартных репозиториев Debian или при помощи официального репозитория Docker. В репозиториях Debian содержится не самая свежая версия, поэтому будет рассмотрен способ установки из официального репозитория Docker.</p><h6 id="Добавление-репозитория-Docker"><a href="#Добавление-репозитория-Docker" class="headerlink" title="Добавление репозитория Docker"></a><a name="add"></a>Добавление репозитория Docker</h6><p>Перед добавление репозитория Docker необходимо обновить список пакетов выполнив команду:</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo apt update</span><br></code></pre></td></tr></table></figure><p>А также установить дополнительные пакеты, которые необходимы для работы с удалёнными репозиториями. Для установки данных пакетов необходимо выполнить команду:</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arduino">sudo apt -y install ca-certificates curl gnupg lsb-release<br></code></pre></td></tr></table></figure><p>Следующий шаг - скачивание и добавление PGP ключа от репозитория Docker. Для этого необходимо выполнить команду:</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">curl -fsSL https:<span class="hljs-regexp">//</span>download.docker.com<span class="hljs-regexp">/linux/</span>debian<span class="hljs-regexp">/gpg | sudo gpg --dearmor -o /u</span>sr<span class="hljs-regexp">/share/</span>keyrings/docker-archive-keyring.gpg<br></code></pre></td></tr></table></figure><p>Для добавления репозитория Docker необходимо выполнить команду:</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">echo <span class="hljs-string">&quot;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable&quot;</span> | sudo tee <span class="hljs-regexp">/etc/</span>apt<span class="hljs-regexp">/sources.list.d/</span>docker.list &gt; <span class="hljs-regexp">/dev/</span><span class="hljs-keyword">null</span><br></code></pre></td></tr></table></figure><h6 id="Установка-пакетов-Docker"><a href="#Установка-пакетов-Docker" class="headerlink" title="Установка пакетов Docker"></a><a name="install"></a>Установка пакетов Docker</h6><p>Для установки Docker сначала необходимо обновить списки пакетов чтобы в системе появился новый репозиторий. Для этого достаточно выполнить команду:</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo apt update</span><br></code></pre></td></tr></table></figure><p>После этого можно установить Docker и дополнительные пакеты. Установка производится при помощи команды:</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">sudo apt -<span class="hljs-keyword">y</span> install docker-<span class="hljs-keyword">ce</span> docker-<span class="hljs-keyword">ce</span>-cli containerd.io<br></code></pre></td></tr></table></figure><p>Слово ce в названии пакета docker-ce расшифровывается как community что означает что будет установлена бесплатная версия (она же версия от сообщества). Теперь вы знаете как установить docker debian.</p><h6 id="Запуск-и-автозагрузка-Docker"><a href="#Запуск-и-автозагрузка-Docker" class="headerlink" title="Запуск и автозагрузка Docker"></a><a name="get"></a>Запуск и автозагрузка Docker</h6><p>После установки, по умолчанию Docker будет выключен. Чтобы запустить программу необходимо выполнить команду:</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">sudo systemctl <span class="hljs-literal">start</span> docker<br></code></pre></td></tr></table></figure><p>Чтобы Docker запускался вместе с операционной системой его необходимо добавить в автозагрузку при помощи команды:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo systemctl <span class="hljs-built_in">enable</span> docker<br></code></pre></td></tr></table></figure><h6 id="Добавление-пользователя-в-группу-Docker"><a href="#Добавление-пользователя-в-группу-Docker" class="headerlink" title="Добавление пользователя в группу Docker"></a><a name="useradd"></a>Добавление пользователя в группу Docker</h6><p>По умолчанию использовать Docker и выполнять его команды в терминале может только пользователь root. Если выполнить какую-либо команду Docker от обычного пользователя, то в терминале отобразится следующая ошибка:</p><blockquote><p>Got permission denied while trying to connect to the Docker daemon socket at unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock: Get “http:&#x2F;&#x2F;%2Fvar%2Frun%2Fdocker.sock&#x2F;v1.24&#x2F;containers&#x2F;json”: dial unix &#x2F;var&#x2F;run&#x2F;docker.sock: connect: permission denied</p></blockquote><p>Чтобы иметь возможность запускать команды Docker от обычного пользователя и без использования команды sudo необходимо добавить пользователя в группу docker. Группа docker создается автоматически при установке Docker. Однако если по какой-то причине она не создалась автоматически её необходимо создать вручную выполнив команду:</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">sudo groupadd docker</span><br></code></pre></td></tr></table></figure><p>Далее для добавления текущего пользователя в группу docker необходимо выполнить следующую команду:</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">sudo</span> usermod -aG docker <span class="hljs-variable">$USER</span><br></code></pre></td></tr></table></figure><p>Переменная $USER означает что в группу docker будет добавлен текущий пользователь, от имени которого запущена сессия. Данная переменная присутствует во всех современных дистрибутивах Linux. Также стоит отметить, что группа docker предоставляет привилегии, эквивалентные привилегиям пользователя root.</p><p>После добавления пользователя необходимо перелогиниться в системе и только потом можно запустить любую команду Docker для проверки. В качестве примера была выполнена команда docker ps которая отображает список запущенных контейнеров:</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">docker ps</span><br></code></pre></td></tr></table></figure><p>Как видно на скриншоте выше команда выполнилась без ошибок и от лица обычного пользователя.</p><h6 id="Запуск-контейнера-с-hello-world"><a href="#Запуск-контейнера-с-hello-world" class="headerlink" title="Запуск контейнера с hello-world"></a><a name="run"></a>Запуск контейнера с hello-world</h6><p>Для полноценной проверки Docker можно загрузить тестовый образ с hello-world для проверки. Для этого необходимо выполнить команду:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">docker <span class="hljs-built_in">run</span> hello-world<br></code></pre></td></tr></table></figure><p>Команда docker run загрузит образ программы из онлайн-репозитория docker hub - официального реестра хранения образов программного обеспечения от Docker который используется по умолчанию и автоматически запустит его. В данном примере была выведена фраза Hello from Docker! которая означает что образ успешно был скачен и запущен.</p><h6 id="Выводы"><a href="#Выводы" class="headerlink" title="Выводы"></a><a name="end"></a>Выводы</h6><p>В данной статье была рассмотрена установка Docker в Debian 11, а также на примере был скачан и запущен тестовый образ hello world для проверки работоспособности программы. Процедура установки не отличается сложностью.</p><div id="reword-out"><div id="reward-btn">вознаграждение</div></div></div><div class="declare"><ul class="post-copyright"><li><i class="ri-copyright-line"></i> <strong>Авторские права： </strong>Авторские права принадлежат автору. Для коммерческих перепечаток, пожалуйста, свяжитесь с автором для авторизации. Для некоммерческих перепечаток, пожалуйста, укажите источник.</li></ul></div><footer class="article-footer"><div class="share-btn"><span class="share-sns share-outer"><i class="ri-share-forward-line"></i> Поделится</span><div class="share-wrap"><i class="arrow"></i><div class="share-icons"></div></div></div><div class="wx-share-modal"><a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a><p>扫一扫，分享到微信</p><div class="wx-qrcode"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJ0lEQVR42u3aQW7DMAwEwP7/0y7QU4DWyZJ0ilganQLElTU5sKJWX1/xOH7G4+fHcfb872+T58+euWBgYGDclnE8HWfLeg5L2NX3vqBiYGBswEiKbPLtvATns2FgYGBMimZSLqtlHQMDAyNnPC+UPTwGBgZGwkhK4QUvK24f39KLY2Bg3JDRCwb+5/Pb8w0MDIyPZxytUQ01J2U3Wg8GBsbSjPmC5uC8lX1RlDEwMLZh5NFjPkP1+STUxMDA2JMRPVr8q6R8935EDAyMfRi9pSRBZvXALi/Zf8yDgYGxAaP3surR2yQQjTJYDAyMRRnVBrK64ZuMSZOMgYGxHmMSA8xDymrMUOjFMTAwFmIkE+VhZLXsVqOIaJuIgYGxEOOqJra33ewd4b3xuA0DA+MjGXmBqx7051vAZObmZQsMDIyFGC8KWatozq+LNWfGwMBYmpGT8p44vyiWx5OFOBMDA2MJRu/AqxcSzGPU0x8OAwNjA0Y1AKg2qNFhWStMxcDA2IGRt4XVCxb54V31MA4DA2M3Rt6ITjaF1Ra33DBjYGAszbjqyL5KnSxo1DBjYGDckHEURzXs7F3IKIcHGBgYSzMmh/WTILN62FdtuTEwMNZj5EU2X0qv+I4KLgYGxgaMauM63w5W/wNgYGBg5Iy8+cxb03kUioGBgTG5ENaLBwpXwTAwMLZh9JrY6lYyjzDLbTMGBsbSjMlNjflSerHoBfkGBgbGPRjfpOqOdM+VDlAAAAAASUVORK5CYII=" alt="微信分享二维码"></div></div><div id="share-mask"></div><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li></ul></footer></div><nav class="article-nav"><a href="/2023/05/29/JQuery-%D0%BF%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD-%D0%B2%D1%81%D1%82%D1%80%D0%B0%D0%B8%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%BC%D0%BE%D0%B3%D0%BE-%D1%81-%D0%AF%D0%BD%D0%B4%D0%B5%D0%BA%D1%81-%D0%94%D0%B8%D1%81%D0%BA%D0%B0/" class="article-nav-link"><strong class="article-nav-caption">Предыдущая запись</strong><div class="article-nav-title">JQuery плагин встраивания содержимого с Яндекс.Диска</div></a><a href="/2023/01/22/install-goland/" class="article-nav-link"><strong class="article-nav-caption">Следующая запись</strong><div class="article-nav-title">install goland</div></a></nav></article></section><footer class="footer"><div class="outer"><ul><li>Copyrights &copy; 2023 <i class="ri-heart-fill heart_icon"></i> aleks kylikov</li></ul><ul><li></li></ul></div></footer></main><div class="float_btns"><div class="totop" id="totop"><i class="ri-arrow-up-line"></i></div><div class="todark" id="todark"><i class="ri-moon-line"></i></div></div><aside class="sidebar on"><button class="navbar-toggle"></button><nav class="navbar"><div class="logo"><a href="/"><img src="/images/ayer-side.svg" alt="Записки на память"></a></div><ul class="nav nav-main"><li class="nav-item"><a class="nav-item-link" href="/">Главная</a></li><li class="nav-item"><a class="nav-item-link" href="/archives">Архивы</a></li><li class="nav-item"><a class="nav-item-link" href="/categories">Категории</a></li><li class="nav-item"><a class="nav-item-link" href="/tags">Теги</a></li></ul></nav><nav class="navbar navbar-bottom"><ul class="nav"><li class="nav-item"><a class="nav-item-link nav-item-search" title="Поиск"><i class="ri-search-line"></i> </a><a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS-каналы"><i class="ri-rss-line"></i></a></li></ul></nav><div class="search-form-wrap"><div class="local-search local-search-plugin"><input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."><div id="local-search-result" class="local-search-result"></div></div></div></aside><div id="mask"></div><div id="reward"><span class="close"><i class="ri-close-line"></i></span><p class="reward-p"><i class="ri-cup-line"></i>wording</p><div class="reward-box"><div class="reward-item"><img class="reward-img" src="/images/alipay.jpg"> <span class="reward-type">支付宝</span></div><div class="reward-item"><img class="reward-img" src="/images/wechat.jpg"> <span class="reward-type">微信</span></div></div></div><script src="/js/jquery-3.6.0.min.js"></script><script src="/js/lazyload.min.js"></script><script src="/js/tocbot.min.js"></script><script>tocbot.init({tocSelector:".tocbot",contentSelector:".article-entry",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,scrollContainer:"main",positionFixedSelector:".tocbot",positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto"})</script><script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"><script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script><script src="/dist/main.js"></script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css"><script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script><script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script><script>function viewer_init(){let i=document.querySelectorAll(".pswp")[0],r=document.querySelectorAll(".article-entry img:not(.reward-img)");r.forEach((t,e)=>{t.onclick=()=>{if(!document.querySelector(".left-col.show")){let o=[];r.forEach((t,e)=>{t.getAttribute("data-idx",e);var e=t.getAttribute("data-target")||t.getAttribute("src"),i=t.getAttribute("alt"),r=new Image;r.src=e,o.push({src:e,w:r.width||t.width,h:r.height||t.height,title:i})}),new PhotoSwipe(i,PhotoSwipeUI_Default,o,{index:parseInt(e)}).init()}}})}viewer_init()</script><link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.15.1/katex.min.css"><script src="https://cdn.staticfile.org/KaTeX/0.15.1/katex.min.js"></script><script src="https://cdn.staticfile.org/KaTeX/0.15.1/contrib/auto-render.min.js"></script><link rel="stylesheet" href="/css/clipboard.css"><script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script><script>function wait(e,i){window.setTimeout(e,i)}!function(){var e;e="",e+='<button class="btn-copy" data-clipboard-snippet=""><i class="ri-file-copy-2-line"></i><span>COPY</span></button>',$(".highlight .code pre").before(e),$(".article pre code").before(e),(e=new ClipboardJS(".btn-copy",{target:function(e){return e.nextElementSibling}})).on("success",function(e){e=$(e.trigger);e.addClass("copied");let i=$(e.find("i")),n=(i.removeClass("ri-file-copy-2-line"),i.addClass("ri-checkbox-circle-line"),$(e.find("span")));n[0].innerText="COPIED",wait(function(){i.removeClass("ri-checkbox-circle-line"),i.addClass("ri-file-copy-2-line"),n[0].innerText="COPY"},2e3)}),e.on("error",function(e){e.clearSelection();e=$(e.trigger);e.addClass("copy-failed");let i=$(e.find("i")),n=(i.removeClass("ri-file-copy-2-line"),i.addClass("ri-time-line"),$(e.find("span")));n[0].innerText="COPY FAILED",wait(function(){i.removeClass("ri-time-line"),i.addClass("ri-file-copy-2-line"),n[0].innerText="COPY"},2e3)})}((window,document))</script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></div></body>